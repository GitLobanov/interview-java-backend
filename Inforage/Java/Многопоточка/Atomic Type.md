![](Pasted%20image%2020250113161102.png)

![](Pasted%20image%2020250113161506.png)

## Классы

Атомарные классы пакета **java.util.concurrent.atomic** можно разделить на 4 группы :

| Класс                                                                                        | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| -------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| • AtomicBoolean  <br>• AtomicInteger  <br>• AtomicLong  <br>• AtomicReference                | Atomic-классы для boolean, integer, long и ссылок на объекты.  <br>Классы этой группы содержат метод **compareAndSet**, принимающий 2 аргумента : предполагаемое текущее и новое значения. Метод устанавливает объекту новое значение, если текущее равно предполагаемому, и возвращает true. Если текущее значение изменилось, то метод вернет false и новое значение не будет установлено.  <br>Кроме этого, классы имеют метод **getAndSet**, который безусловно устанавливает новое значение и возвращает старое.  <br>Классы AtomicInteger и AtomicLong имеют также методы инкремента/декремента/добавления нового значения. |
| • AtomicIntegerArray  <br>• AtomicLongArray  <br>• AtomicReferenceArray                      | Atomic-классы для массивов integer, long и ссылок на объекты.  <br>Элементы массивов могут быть изменены атомарно.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| • AtomicIntegerFieldUpdater  <br>• AtomicLongFieldUpdater  <br>• AtomicReferenceFieldUpdater | Atomic-классы для обновления полей по их именам с использованием [reflection](https://java-online.ru/java-reflection.xhtml).  <br>Смещения полей для CAS операций определяется в конструкторе и кэшируются. Сильного падения производительности из-за _reflection_ не наблюдается.                                                                                                                                                                                                                                                                                                                                                |
| • AtomicStampedReference  <br>• AtomicMarkableReference                                      | Atomic-классы для реализации некоторых алгоритмов, (точнее сказать, уход от проблем при реализации алгоритмов).  <br>Класс AtomicStampedReference получает в качестве параметров ссылку на объект и int значение.                                                                                                                                                                                                                                                                                                                                                                                                                 |

![](1024.webp)

## Методы
### AtomicInteger

| метод                                                 | описание                                                                                                         |
| ----------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------- |
| int addAndGet (int delta)                             | Добавляет определенное значение к текущему значению.                                                             |
| boolean compareAndSet (ожидаемое int, обновление int) | Устанавливает значение для данного обновленного значения, если текущее значение совпадает с ожидаемым значением. |
| int decrementAndGet ()                                | Уменьшает на единицу текущее значение.                                                                           |
| int getAndAdd (int delta)                             | Добавляет данное значение к текущему значению.                                                                   |
| int getAndDecrement ()                                | Уменьшает на единицу текущее значение.                                                                           |
| int getAndIncrement ()                                | Увеличивает на единицу текущее значение.                                                                         |
| int getAndSet (int newValue)                          | Устанавливает заданное значение и возвращает старое значение.                                                    |
| int incrementAndGet ()                                | Увеличивает на единицу текущее значение.                                                                         |
| lazySet (int newValue)                                | В конце-концов устанавливается на заданное значение.                                                             |
| boolean weakCompareAndSet (ожидаемое, обновление int) | Устанавливает значение для данного обновленного значения, если текущее значение совпадает с ожидаемым значением. |

`ExecutorService` в Java — это высокоуровневый интерфейс, представляющий пул потоков, который управляет многопоточными задачами. Он предоставляет механизм для запуска асинхронных задач и управления их выполнением, освобождая разработчиков от необходимости вручную создавать и управлять потоками.

### Основные методы ExecutorService

1. **`void shutdown()`**: Начинает корректное завершение работы `ExecutorService`. Вызов этого метода предотвращает добавление новых задач, но завершает выполнение уже запущенных задач.
    
2. **`List<Runnable> shutdownNow()`**: Попытка немедленно завершить работу `ExecutorService`. Этот метод останавливает выполнение всех активных задач и возвращает список задач, которые не были выполнены.
    
3. **`boolean awaitTermination(long timeout, TimeUnit unit)`**: Ожидание завершения работы `ExecutorService` в течение указанного времени. Возвращает `true`, если `ExecutorService` завершил работу, и `false`, если время ожидания истекло.
    
4. **`<T> Future<T> submit(Callable<T> task)`**: Отправляет задачу для выполнения и возвращает объект `Future`, который можно использовать для получения результата или отмены задачи.
    
5. **`<T> List<Future<T>> invokeAll(Collection<? extends Callable<T>> tasks)`**: Выполняет все задачи из коллекции и возвращает список объектов `Future`, представляющих результат выполнения задач.
    
6. **`<T> T invokeAny(Collection<? extends Callable<T>> tasks)`**: Выполняет задачи из коллекции, и возвращает результат первой успешно завершённой задачи. Остальные задачи отменяются.

## Стандартные реализации ExecutorService

В классе `Executors` также присутствует несколько имплементаций `ExecutorService`, которые покрывают большую часть потребностей в контексте многопоточного программирования. Вот некоторые из них:

1. `newFixedThreadPool`
2. `newCachedThreadPool`
3. `newScheduledThreadPool`

### Fixed Thread Pool

Fixed Thread Pool - это наиболее простая в понимании концепция. При вызове `newFixedThreadPool` создается объект с фиксированным количеством потоков (количество передается в качестве параметра). При поступлении новой задачи из пула запрашивается свободный поток. Если таковой отсутствует, задача ставится в очередь.

Эта реализация `ExecutorService` является наиболее популярной и используется чаще всего.

### Cached Thread Pool

Кэшированный пул потоков, в отличие от фиксированного, не ставит верхнюю границу на количество потоков. Вместо этого используется следующий алгоритм:

1. Если есть свободный поток, задача присваивается ему
2. Если нет, создается новый поток

Эта реализация подходит для тех случаев, когда не ожидается "всплесков" нагрузки. Потому что в противном случае может быть создано чересчур много потоков, что отрицательно скажется на производительности.

> Строго говоря, максимальное количество потоков в Cached Thread Pool не является бесконечным. Оно равно Integer.MAX_VALUE.

### Schedule Thread Pool

Вызов `newScheduledThreadPool` возвращает интерфейс `ScheduledExecutorService`, который является расширением `ExecutorService`. `ScheduledExecutorService` позволяет запускать задачи с заданной задержкой и интервалом.

## Выключение ExecutorService

После выполнения необходимых задач, `ExecutorService` требуется выключить. Для этого методы:

1. `shutdown`
2. `shutdownNow`
3. `awaitTermination`

`shutdown` отправляет запрос на выключение, после которого новые задачи более не принимаются. Поведение `shutdownNow` похоже, однако также происходит попытка прервать все задачи, которые сейчас выполняются. А `awaitTermination` ждет указанное количество времени, пока `ExecutorService` не будет выключен.
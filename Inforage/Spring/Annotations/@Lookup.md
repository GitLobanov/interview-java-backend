---
Определение: Используется для внедрения бина из контекста приложения, при этом каждый вызов метода, помеченного этой аннотацией, будет возвращать новый экземпляр бина. Это особенно полезно для получения прототипных бинов из синглтон-бина.
Примечание:
---
**Пример использования**

Предположим, у вас есть синглтон-бин, который должен получать новый экземпляр прототипного бина при каждом вызове метода.

Прототипный бин:

```java
@Component
@Scope("prototype") // Этот бин будет иметь прототипный scope
public class MyPrototypeBean {
    public MyPrototypeBean() {
        System.out.println("MyPrototypeBean instance created");
    }
}
```

Синглтон-бин с использованием `@Lookup`:

```java
@Component
@Scope("singleton") // Этот бин будет иметь синглтон scope
public abstract class MySingletonBean {

    @Lookup // Аннотация для получения нового экземпляра бина
    public abstract MyPrototypeBean getMyPrototypeBean();

    public void performAction() {
        MyPrototypeBean prototypeBean = getMyPrototypeBean();
        // Использование prototypeBean
    }
}
```

В этом примере метод `getMyPrototypeBean()` будет автоматически реализован Spring так, чтобы каждый раз возвращать новый экземпляр `MyPrototypeBean`.

**Почему это полезно?**

- **Разделение логики**: Позволяет разделить логику, где синглтон-бин использует прототипные бины для выполнения задач, требующих новых экземпляров.
- **Избежание проблем с многопоточностью**: Обеспечивает, что каждый запрос к прототипному бину будет получать новый экземпляр, избегая проблем с состоянием при многопоточном доступе.
- **Упрощение конфигурации**: Упрощает управление созданием бинов, не требуя явного внедрения зависимостей.

**Ограничения**

- **Abstract classes**: Метод, аннотированный `@Lookup`, должен быть абстрактным, и Spring будет автоматически реализовывать его. Поэтому, чтобы использовать эту аннотацию, класс должен быть абстрактным или иметь хотя бы один абстрактный метод.
- **Прототипный scope**: Основной сценарий использования аннотации `@Lookup` — это работа с прототипными бинами, но она также может быть использована для других случаев, где требуется динамическое получение бина.
Это стандарт для безопасной передачи данных между двумя сторонами в виде компактного, самодостаточного токена. Он используется для авторизации, а также для передачи информации о пользователе в приложениях.

# Основные шаги работы авторизации через JWT:

1. **Аутентификация пользователя**:
    
    - Пользователь отправляет свои учетные данные (например, логин и пароль) на сервер (например, через POST-запрос).
    - Сервер проверяет учетные данные. Если они верные, сервер создает JWT, содержащий информацию о пользователе (например, его ID, роль, срок действия токена и т. д.).
2. **Создание JWT**:
    
    - **Header**: Содержит информацию о типе токена (JWT) и алгоритме шифрования (например, HMAC, RSA).
    - **Payload**: Содержит утверждения (claims) — это информация о пользователе, например, его ID, роль, срок действия токена.
    - **Signature**: Создается путем подписи header и payload с использованием секрета (или ключа), чтобы гарантировать целостность и подлинность токена. Если кто-то изменит содержание токена, подпись не будет совпадать.
3. **Отправка JWT клиенту**:
    
    - После успешной аутентификации сервер отправляет JWT клиенту (например, браузеру или мобильному приложению). Обычно токен сохраняется в **localStorage**, **sessionStorage** или **cookies** на стороне клиента.
4. **Авторизация с использованием JWT**:
    
    - В дальнейшем, для доступа к защищенным ресурсам или API, клиент прикрепляет JWT к каждому запросу (обычно в заголовке `Authorization` с типом "Bearer").
    - Сервер получает токен, проверяет его подпись и извлекает из payload информацию о пользователе.
    - Если токен действителен, сервер разрешает доступ к защищенным ресурсам. Если токен истек или неверен, сервер отклоняет запрос.
5. **Истечение срока действия**:
    
    - JWT часто имеет срок действия (например, через несколько часов или дней). Когда срок истекает, пользователь должен пройти повторную аутентификацию или получить новый токен (например, через механизм **refresh tokens**).

# Пример JWT:

```JSON
{
  "header": {
    "alg": "HS256",
    "typ": "JWT"
  },
  "payload": {
    "sub": "1234567890",
    "name": "John Doe",
    "iat": 1516239022
  },
  "signature": "HMACSHA256(base64UrlEncode(header) + '.' + base64UrlEncode(payload), secret)"
}
```

# Преимущества использования

- **Статeless**: Сервер не хранит состояние (например, сессии), так как все данные о пользователе хранятся внутри токена.
- **Безопасность**: JWT можно подписывать и шифровать, обеспечивая безопасность передаваемых данных.
- **Масштабируемость**: Так как сервер не хранит сессии, JWT хорошо подходит для распределенных систем и масштабируемых приложений.

# Минусы

- **Отсутствие механизма отзыва**: Если токен был украден, его нельзя отозвать до истечения срока действия.
- **Размер**: JWT может быть достаточно большим, если содержит много данных.
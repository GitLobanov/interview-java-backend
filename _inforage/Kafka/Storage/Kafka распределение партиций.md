
- Разделение по ключу (Key-based partitioning). Когда продюсер отправляет сообщение, он может дать ему специальный "ключ" (например, имя пользователя или ID заказа). Kafka берет этот ключ и всегда отправляет все сообщения с одинаковым ключом в одну и ту же партицию. Это нужно, чтобы сообщения с этим ключом шли по порядку.
- Круговое разделение (Round-robin partitioning): Если ключа нет, сообщения равномерно распределяются по партициям по кругу. Первое сообщение в первую партицию, второе – во вторую и так далее. Порядок не сохраняется. **round-robin по умолчанию при отсутствии ключа**
- Липкое разделение (Sticky partitioning): сообщения без ключа направляются не по кругу, а временно закрепляются за одной партицией, чтобы сократить задержки. Со временем назначение меняется.
- CustomPartitioner extends Partitioner. Вы можете создать свой собственный механизм распределения сообщений между партициями.

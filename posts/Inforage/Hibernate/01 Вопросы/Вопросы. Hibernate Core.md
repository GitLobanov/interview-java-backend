>1.  Какие есть Hibernate Inheritance?

1. InheritanceType.SINGLE_TABLE. Single Class: Все сущности, связанные с иерархией наследования, хранятся в одной таблице. В этой таблице есть специальный столбец DTYPE для указания типа сущности, чтобы различать записи.
2. InheritanceType.TABLE_PER_CLASS. Table per Concrete Class: Каждая сущность и её подтипы хранятся в отдельных таблицах. Каждая таблица представляет собой полный набор данных для соответствующей сущности. Сохранять можно все сущности (родительские и дочерние) — они пойдут в независимые таблицы.
3. InheritanceType.JOINED. Table per Subclass: Каждая сущность (родительская и дочерняя) имеет свою собственную таблицу. Родительская таблица содержит общие поля, а дочерние таблицы содержат только специфические для них поля. Первичные ключи являются заодно и внешними они ссылаются на главную таблицу

[[Hibernate наследование]]

2. Основные характеристики hibernate

- Hibernate — это ORM-фреймворк для работы с реляционными базами данных через объекты Java. 
- Он преобразует таблицы базы данных в сущности, избавляя от необходимости писать SQL-запросы вручную. 
- Основные компоненты включают SessionFactory и Session, и фреймворк позволяет использовать HQL, SQL, и CriteriaBuilder для создания запросов. 
- Hibernate также управляет транзакциями.
- Может автоматически создавать или обновлять схемы базы данных.
- Для объявления сущностей используется аннотация @Entity см. [[Требования Entity]]  
- [[Hibernate диалекты]]
- [[Hibernate кэширование]]
- [[Hibernate наследование]]
- [[Hibernate Best Practices]]
- [[Hibernate. Процесс работы с сущностями]]

3. Что такое диалект в Hibernate и как он позволяет работать с разными базами данных?

- [[Hibernate диалекты]]

4. Как правильно завершить транзакцию в Hibernate? Как происходит закрытие транзакции и почему это важно?

Правильное завершение транзакции в Hibernate включает несколько шагов:

1. После выполнения операций с базой данных необходимо вызвать `transaction.commit()`, чтобы сохранить изменения. Если что-то пошло не так, вызывается `transaction.rollback()`, чтобы откатить изменения.
2. После завершения работы с транзакцией нужно закрыть сессию через **`session.close()`** или `entityManager.close()`. Это важно для освобождения ресурсов и предотвращения утечек памяти.

Закрытие сессии особенно важно в долгоживущих приложениях, так как сессия может накапливать объекты в кеше и держать открытые соединения к базе данных, что может вызвать проблемы с производительностью и блокировки. В некоторых случаях Hibernate или фреймворки, такие как Spring, автоматически управляют транзакциями и закрытием сессий.

5. Основные аспекты аннотации Entity, для чего она нужна

- [[Требования Entity]]

Аннотация @Entity в Hibernate указывает, что данный класс представляет собой сущность, которая будет отображаться на таблицу в базе данных. Каждое поле класса отображается на соответствующий столбец таблицы. Основные аспекты использования:

1. @Id — обязательно указывается для поля, которое будет использоваться в качестве первичного ключа.
2. @Table — позволяет задать имя таблицы, если оно отличается от имени класса.
3. @Column — настраивает конкретные столбцы (например, задаёт имя, уникальность, может ли быть поле `null`).
4. Ассоциации — можно задавать отношения между сущностями с помощью аннотаций, таких как @OneToMany, @ManyToOne, чтобы связать таблицы между собой.

Сущности помогают автоматически маппировать объекты на записи базы данных, управлять связями между ними и выполнять запросы, используя HQL или Criteria API.

6. Как Hibernate реализует работу с транзакциями?

Hibernate реализует работу с транзакциями через объект Session, который управляет транзакциями при помощи вызовов методов beginTransaction(), commit() и rollback(). Это обеспечивает атомарное выполнение операций с базой данных. Hibernate использует JDBC для низкоуровневого управления транзакциями, но абстрагирует большинство этих операций, предоставляя удобный API.

В интеграции с Spring управление транзакциями значительно упрощено через аннотацию [[@Transactional|@Transactiona]]l, которая автоматически управляет открытием и завершением транзакций. Это позволяет создавать, коммитить или откатывать транзакции, не касаясь напрямую Hibernate или JDBC.

7. В чем Hibernate использует фабрику?

- [[Hibernate диалекты]]

Hibernate использует фабрики в создании диалектов базы данных (Dialect).

- Диалекты позволяют Hibernate адаптировать SQL-запросы к конкретной базе данных, обеспечивая совместимость с различными системами управления базами данных (СУБД).
- Каждый диалект определяет, как Hibernate будет генерировать SQL-запросы и обрабатывать специфические особенности базы данных. Это включает в себя такие вещи, как синтаксис SQL, типы данных и функции.

8. Какие паттерны проектирования можно заметить в Hibernate?

- Singleton. Используется для создания единственного экземпляра определенного класса. В Hibernate это относится к `SessionFactory`, который должен существовать в единственном экземпляре, чтобы избежать лишних затрат на создание.
- Template Method. Этот паттерн определяет общий алгоритм работы, оставляя некоторые шаги для подклассов. В Hibernate используется для управления транзакциями и сессиями.
- Паттерн Observer может быть использован для отслеживания изменений в сущностях. Интерфейс `EntityListener` с методами для обработки событий сохранения и удаления сущностей.

9. Какие существуют процессы работы с сущностями в Hibernate

- [[Состояние entity]]
- [[Hibernate. Процесс работы с сущностями]]

10. Какие уровни кэширования существуют в hibernate?

- [[Hibernate кэширование#Кратко]]

11. Как происходит миграция схемы базы данных в Hibernate?

Hibernate поддерживает автоматическую генерацию и обновление схемы базы данных на основе сущностей Java. Это можно настроить с помощью параметра `hibernate.hbm2ddl.auto`, который может принимать значения:
    - `create`: создаёт новую схему, удаляя старую.
    - `update`: изменяет существующую схему без удаления данных.        
    - `validate`: проверяет соответствие текущей схемы и моделей.       
    - `create-drop`: создаёт схему при запуске и удаляет её при завершении приложения.

12. Основные два объекта при работе с hibernate?

- SessionFactory: Фабрика для создания объектов сессий, которые используются для взаимодействия с базой данных. Обычно создается один экземпляр на приложение.
- Session: Объект для выполнения операций с базой данных, таких как сохранение, удаление, обновление и запросы. Это аналог транзакции с базой данных в Hibernate.

13. Почему JPA, появилась позже Hibernate?

- Hibernate был одним из первых и наиболее популярных фреймворков ORM (Object-Relational Mapping) в Java.
- JPA (Java Persistence API) была создана как стандартная спецификация ORM в Java EE, которая появилась позже для стандартизации API для работы с персистентностью в Java. Hibernate стал одной из первых реализаций спецификации JPA.
- Цель JPA — предложить унифицированный стандартный интерфейс для ORM-решений, чтобы не зависеть от конкретных фреймворков, таких как Hibernate.

13. 
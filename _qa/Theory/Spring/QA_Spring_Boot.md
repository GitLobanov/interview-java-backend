#### Что такое Spring Boot? [X]

Spring Boot — это набор уже настроенных модулей которые работают в Spring Framework и упрощают конфигурирование Spring приложения.

1. Автоматизирует настройку приложения (убирает XML и @Configuration для стандартных сценариев).
2. Предоставляет "стартеры" (`spring-boot-starter-*`) — готовые наборы зависимостей для разных задач (веб, БД, безопасность и т.д.).
3. Встраивает сервер (Tomcat, Jetty, Netty) — не требуется отдельный deployment.
4. Добавляет production-фичи (метрики, health-checks через Actuator).

Вот некоторые центральные модули:

- Spring-boot-dependencies. Содержит версии зависимостей.
- Spring-boot-starter-parent. Родительский pom.xml
- Spring-boot-starters. Родительский модуль для стартеров
- Spring-boot-autoconfigure. Содержит модули для автонастройки стартеров
- Spring-boot-actuator. Позволяет мониторить приложение и управлять его созданием

#### Какие преимущества у Spring Boot? [X]

- Автоконфигурирование многих настроек, что позволяет избежать шаблонного кода
- Позволяет легко конфигурировать приложение, когда настройки по умолчанию не устраивают
- Проект на Spring Boot может компилироваться в автономный JAR-файл, идет вместе со встроенным tomcat
- Предоставляет набор зависимостей, которые уже проверены на правильную работу друг с другом
- Имеет встроенные веб-контейнеры, которые позволяют легко тестировать приложение

#### Как Spring Boot понимает что и как нужно сконфигурировать? [X]

Он предполагает что вам надо, основываясь на зависимостях в classpath. “Соглашение над конфигурацией” — он автоконфигурирует Spring специально подобранными настройками, которые потом можно переопределить.

Для этого есть несколько аннотаций, @ConditionalOnClass, @ConditionalOnBean, @ConditionalOnMissingBean и @ConditionalOnMissingClass, которые позволяют применять условия к @Configuration-классам и @Bean-методам в этих классах.

Например:

- Бин будет создан только если определенная зависимость есть в classpath. Используйте @ConditionalOnClass, установив туда имя класса из classpath.
- Бин будет создан только если в контейнере нет бина такого типа или с таким именем. Используйте @ConditionalOnMissingBean, установив туда имя или тип бина для проверки.

#### Что влияет на настройку Spring Boot?

Существует список аннотаций-условий, каждая из которых используется для управления созданием бинов. Вот список таких аннотаций(на самом деле их больше):

| Аннотация                       | Условие прохождения                                                 |
| ------------------------------- | ------------------------------------------------------------------- |
| @ConditionalOnClass             | Пристутствие класса в classpath                                     |
| @ConditionalOnMissingClass      | Отсутствие класса в classpath                                       |
| @ConditionalOnBean              | Присутствие бина или его типа(класс бина)                           |
| @ConditionalOnMissingBean       | Отсутствие бина или его типа                                        |
| @ConditionalOnProperty          | Присутствие Spring-свойства                                         |
| @ConditionalOnResource          | Присутствие файла-ресурса                                           |
| @ConditionalOnWebApplication    | Если это веб-приложение, будет использоваться WebApplicationContext |
| @ConditionalOnNotWebApplication | Если это не веб-приложение                                          |
#### Как определяются property? Где находится дефолтный PropertySource в Spring Boot? [O]

Spring Boot использует особый порядок PropertySource’ов для того чтобы позволить переопределять значения свойств. Вот порядок источников для получения свойств приложения:

1. Общие настройки из директории ~/spring-boot devtools.properties
2. Настройки из аннотации `@TestPropertySource` из тестов
3. Атрибуты @SpringBootTest#properties
4. Аргументы командной строки
5. Свойства из SPRING_APPLICATION_JSON
6. Параметры для инициализации ServletConfig
7. Параметры для инициализации ServletContext
8. JNDI-атрибуты из java:comp/env
9. Java System Properties(System.getProperties())
10. Переменные ОС
11. RandomValueProperySource
12. Проперти для профилей, например YAML или application-{profile}.properties
13. application.properties и YAML не из вашего jar
14. application.properties и YAML из вашего jar
15. Аннотация `@PropertySource` на @Configuration-классе
16. Проперти по умолчанию(устанавливаются через `SpringApplication.setDefaultProperties()`)

Также добавлю, что property.yml всегда переопределяют property.properties.

#### Опишите основные аннотации и конфиги для Spring Boot?

Аннотация @SpringBootApplication предоставляет 3 свойства:

- @EnableAutoConfiguration — включает механизм Spring Boot’а для автоконфигурации
- @ComponentScan — включает сканирование компонентов в package’е класса где она находится
- @Configuration — позволяет регистрировать доп. бины в контексте

Вот другие основные аннотации:

@EnableConfigurationProperties — позволяет использовать бины с аннотацией @ConfigurationProperties
@ConfigurationProperties — позволяет связывать проперти из файлов с бинами
@WebMvcTest — используется для тестов Spring MVC
@SpringBootTest — используется, когда нужны функции Spring Boot в тестах
@DataJpaTest — используется для теста компонентов JPA

#### В чем различия между встроенным контейнером и WAR? [X]

Встроенный контейнер представляет собой сервер, который поставляется с конечным приложением, тогда как WAR является архивом, который может быть развернут на внешнем сервере.

Контейнеры сервлетов хороши для управления несколькими приложениями на одном хосте, но они не очень полезны для управления только одним приложением.

С облачным окружение используется одно приложение на виртуальную машину является предпочтительным и более распространенным способом. Современные фреимворки хотят быть более совместимыми с облаками, поэтому переходят на встраиваемые контейнеры.

#### Какие встроенные контейнеры поддерживает Spring? [X]
  
Spring Boot поддерживает Tomcat, Jetty, и Undertow.  
По умолчанию используется TomCat. Для того чтобы изменить контейенер, просто добавьте нужную зависимость в pom.xml.

#### Что делает @EnableAutoConfiguration? [X]

Она позволяет использовать автоконфигурацию. Автоконфигурация в Spring Boot пытается создать и настроить бины основываясь на зависимостях в classpath, для того чтобы позволить разработчику быстро начать работать с различными технологиями и убрать шаблонный код.

#### Делает ли Spring Boot сканирование компонентов? Где он их ищет по умолчанию? [X]

Да, делает, если стоит аннотация @SpringBootApplication, которая содержит аннотацию @ComponentScanning.

По умолчанию Spring ищет бины в том же package, что и класс с аннотацией. Это можно переопределить, указав классы(или package) в параметрах scanBasePackageClasses или scanBasePackage.

#### Что такое Spring Boot Starter POM? Чем он может быть полезен? [X]

Стартеры предоставляют набор удобных дескрипторов зависимостей, которые можно включить в ваше приложение. Вы получаете один источник для spring и связанных с ним технологий без необходимости искать и копипастить дескрипторы развертывания.  Например, если вы хотите начать работать с Spring JPA, всего лишь добавьте зависимость spring-boot-starter-data-jpa в ваш проект.

Стартеры содержат большинство зависимостей, нужных вам для запуска проекта, работают быстро и согласованно, и поддерживают наборы транзитивных зависимостей.

#### Можете ли вы контролировать логгирование через Spring Boot?

Да. По умолчанию, сообщения с приоритетами ERROR, WARN, INFO будут выводится в приложении. Чтобы включить вывод уровней DEBUG или TRACE вы должны использовать ключи `--debug`/`--trace` или установить проперти-свойства debug/trace = true.

```
logging.level.root = WARN
logging.level.org.springframework.web = DEBUG
logging.level.org.hibernate = ERROR
```

По умолчанию Sprin Boot логирует только в консоль. Если вы хотите логировать события в файл, необходимо установить свойства logging.file или logging.path в true(например, в application.properties).

В консолях, поддерживающих ANSI, для улучшения читаемости сообщения различных уровней могут быть выделяться с помощью разных цветов. Вот как это настраивается в property-файле:

```
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss}) {yellow}
```

Если вы хотите, чтобы записать шла в другие файлы, вы также можете это настроить(YAML):

```YAML
logging:  
	path: /var/logs/  
	file: bookWarn.log  
	level:     
		root: WARN   
		org.      
			springframework:        
				security: DEBUG
```

#### EnableAutoConfiguration + SpringBootApplication — конфликтуют ли они между собой? [X]

@SpringBootApplication и @EnableAutoConfiguration не конфликтуют напрямую, но их совместное использование может вызвать дублирование конфигурации и привести к нежелательным последствиям. Использовать @EnableAutoConfiguration отдельно стоит только в специфических ситуациях, когда не применяется @SpringBootApplication, чтобы избежать избыточной конфигурации и путаницы.

#### Spring Boot vs Spring

- В Spring boot есть встроенный TomCat
- Несет авто конфигурацию. Автоматически конфигурирует некоторые компоненты 
- В @SpringBootApplication уже встроены другие аннотации - @SpringBootConfiguration, @EnableAutoConfiguration, @CompnentScan
- Достаточно настраивать при помощи application.propeties
- Имеет starter зависимости


#### Как создать собственный стартер в Spring Boot 3?
